# Админ-панель

Админ-панель доступна по адресу: **http://localhost:3001/admin**

## Первый запуск

### 1. Создайте первого администратора

Выполните команду:

```bash
curl -X POST http://localhost:3001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@test.com",
    "password": "admin123",
    "role": "admin",
    "first_name": "Админ",
    "last_name": "Тестовый",
    "position": "Администратор"
  }'
```

### 2. Откройте админ-панель

Перейдите в браузере: **http://localhost:3001/admin**

### 3. Войдите в систему

- **Email**: `admin@test.com`
- **Пароль**: `admin123`

## Функционал

### Дашборд
- Статистика по справкам (ожидают, в процессе, готовы, выданы)

### Справки
- Просмотр всех справок
- Назначение справок себе (для сотрудников)
- Изменение статуса справок:
  - Ожидает
  - В процессе
  - Готова
  - Выдана
  - Отклонена (с указанием причины)

### Пользователи
- Создание новых пользователей
- Просмотр списка пользователей (в разработке)

## Роли

- **admin** - Полный доступ ко всем функциям
- **staff** - Может обрабатывать справки, изменять статусы
- **student** - Может только просматривать свои справки (через API)

## API Endpoints

Админ-панель использует следующие API endpoints:

- `POST /api/auth/login` - Вход
- `POST /api/auth/register` - Регистрация
- `GET /api/certificates` - Получить все справки (staff/admin)
- `POST /api/certificates/:id/assign` - Назначить справку себе
- `PATCH /api/certificates/:id/status` - Изменить статус справки

## Разработка

Файлы админ-панели находятся в `api/public/admin/`:
- `index.html` - Основной HTML
- `styles.css` - Стили
- `app.js` - JavaScript логика

После изменения файлов перезапустите API:
```bash
docker compose restart api
```

